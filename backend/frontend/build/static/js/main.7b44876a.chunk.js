(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{104:function(e,t,r){},105:function(e,t,r){},111:function(e,t,r){},112:function(e,t,r){},113:function(e,t,r){},114:function(e,t,r){},115:function(e,t,r){},116:function(e,t,r){},117:function(e,t,r){},118:function(e,t,r){},119:function(e,t,r){},120:function(e,t,r){},121:function(e,t,r){},122:function(e,t,r){},123:function(e,t,r){},124:function(e,t,r){},125:function(e,t,r){},127:function(e,t,r){"use strict";r.r(t);var c=r(1),n=r(25),a=r.n(n),s=r(5),i=r(10),o=r(8),l=r.n(o),d=r(12),u="USER_LOGIN_REQUEST",j="USER_LOGIN_SUCCESS",p="USER_LOGIN_FAIL",h="USER_LOGOUT",b="USER_REGISTER_REQUEST",O="USER_REGISTER_SUCCESS",x="USER_REGISTER_FAIL",m="USER_PROFILE_REQUEST",g="USER_PROFILE_SUCCESS",f="USER_PROFILE_FAIL",v="USER_PROFILE_RESET",_="USER_UPDATE_PROFILE_REQUEST",y="USER_UPDATE_PROFILE_SUCCESS",S="USER_UPDATE_PROFILE_FAIL",E="USER_UPDATE_PROFILE_RESET",N="USER_LIST_REQUEST",k="USER_LIST_SUCCESS",C="USER_LIST_FAIL",I="USER_LIST_RESET",R="USER_DELETE_REQUEST",P="USER_DELETE_SUCCESS",w="USER_DELETE_FAIL",A="USER_UPDATE_ADMIN_REQUEST",L="USER_UPDATE_ADMIN_SUCCESS",T="USER_UPDATE_ADMIN_FAIL",D="USER_UPDATE_ADMIN_RESET",U="USER_GET_ADMIN_REQUEST",F="USER_GET_ADMIN_SUCCESS",M="USER_GET_ADMIN_FAIL",B=r(13),Y=r.n(B),G="ORDER_CREATE_REQUEST",Q="ORDER_CREATE_SUCCESS",z="ORDER_CREATE_FAIL",q="ORDER_CREATE_RESET",J="ORDER_DETAIL_REQUEST",V="ORDER_DETAIL_SUCCESS",W="ORDER_DETAIL_FAIL",H="ORDER_PAY_REQUEST",K="ORDER_PAY_SUCCESS",X="ORDER_PAY_FAIL",Z="ORDER_PAY_RESET",$="ORDER_LIST_ADMIN_REQUEST",ee="ORDER_LIST_ADMIN_SUCCESS",te="ORDER_LIST_ADMIN_FAIL",re="ORDER_LIST_ADMIN_RESET",ce="MY_ORDER_REQUEST",ne="MY_ORDER_SUCCESS",ae="MY_ORDER_FAIL",se="MY_ORDER_RESET",ie="ORDER_TO_DELIVERED_REQUEST",oe="ORDER_TO_DELIVERED_SUCCESS",le="ORDER_TO_DELIVERED_FAIL",de=function(e){return function(){var t=Object(d.a)(l.a.mark((function t(r,c){var n,a,s,i,o;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:U}),n=c(),a=n.userLogin.userInfo,s={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(a.token)}},t.next=6,Y.a.get("/api/users/".concat(e),s);case 6:i=t.sent,o=i.data,console.log("data.. ",o),r({type:F,payload:o}),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),r({type:M,payload:t.t0.response&&t.t0.response.data.detail?t.t0.response.data.detail:t.t0.message});case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e,r){return t.apply(this,arguments)}}()},ue=(r(104),r(9)),je=r(138),pe=r(72),he=(r(105),r(0));var be=function(){var e=Object(c.useState)(""),t=Object(ue.a)(e,2),r=t[0],n=t[1],a=Object(i.k)();return Object(he.jsxs)(je.a,{onSubmit:function(e){e.preventDefault(),console.log("search Handler ..",r),r&&a.push("/?keyword=".concat(r,"&page=1"))},inline:!0,children:[Object(he.jsx)(je.a.Control,{type:"text",name:"q",onChange:function(e){return n(e.target.value)},className:"mr-sm-2 ml-sm-5 m-auto"}),Object(he.jsx)(pe.a,{type:"submit",variant:"outline-success",className:"p-2",children:"Search"})]})},Oe=r(140),xe=r(132),me=r(141),ge=r(137),fe=r(20);var ve=function(){var e=Object(s.c)((function(e){return e.userLogin})),t=(Object(i.k)(),e.userInfo),r=Object(s.b)();return console.log("userinfo header.. ",t),Object(he.jsx)(he.Fragment,{children:Object(he.jsx)(Oe.a,{bg:"dark",variant:"dark",expand:"lg",collapseOnSelect:!0,children:Object(he.jsxs)(xe.a,{children:[Object(he.jsx)(fe.LinkContainer,{to:"/",children:Object(he.jsx)(Oe.a.Brand,{children:"G-Shop"})}),Object(he.jsx)(Oe.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(he.jsxs)(Oe.a.Collapse,{id:"basic-navbar-nav",children:[Object(he.jsx)(be,{}),Object(he.jsxs)(me.a,{className:"ml-auto",children:[Object(he.jsx)(fe.LinkContainer,{to:"/cart",children:Object(he.jsxs)(me.a.Link,{children:[Object(he.jsx)("i",{className:"fas fa-shopping-cart"}),"Cart"]})}),(null===t||void 0===t?void 0:t.email)&&Object(he.jsxs)(ge.a,{title:t.name,id:"username",children:[Object(he.jsx)(fe.LinkContainer,{to:"/profile",children:Object(he.jsx)(ge.a.Item,{children:"Profile"})}),Object(he.jsx)(ge.a.Item,{onClick:function(){r(function(){var e=Object(d.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:localStorage.removeItem("userInfo"),localStorage.removeItem("shipping"),t({type:h}),t({type:I}),t({type:v}),t({type:se}),t({type:I}),t({type:re});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},children:"Logout"})]}),!(null===t||void 0===t?void 0:t.email)&&Object(he.jsx)(fe.LinkContainer,{to:"/login",children:Object(he.jsxs)(me.a.Link,{children:[Object(he.jsx)("i",{className:"fas fa-user"}),"Login"]})}),t&&t.isAdmin&&Object(he.jsxs)(ge.a,{title:"Admin",id:"adminmenue",children:[Object(he.jsx)(fe.LinkContainer,{to:"/admin/userlist",children:Object(he.jsx)(ge.a.Item,{children:"Users"})}),Object(he.jsx)(fe.LinkContainer,{to:"/admin/productlist",children:Object(he.jsx)(ge.a.Item,{children:"Products"})}),Object(he.jsx)(fe.LinkContainer,{to:"/admin/orderlist",children:Object(he.jsx)(ge.a.Item,{children:"Orders"})})]})]})]})]})})})},_e=(r(111),r(133)),ye=r(71);var Se=function(){return Object(he.jsx)("footer",{children:Object(he.jsx)(xe.a,{variant:"dark",fluid:!0,children:Object(he.jsx)(_e.a,{children:Object(he.jsx)(ye.a,{className:"text-center bg-dark footer py-3",children:"Copyright \xa9 G-Shop"})})})})},Ee=r(11);r(112),r(113);var Ne=function(e){var t=e.value,r=e.no_of_reviews;return Object(he.jsxs)("div",{className:"rating",children:[Object(he.jsx)("span",{children:Object(he.jsx)("i",{className:t>=1?"fas fa-star":t>=.5?"fas fa-star-half-alt":"far fa-star"})}),Object(he.jsx)("span",{children:Object(he.jsx)("i",{className:t>=2?"fas fa-star":t>=1.5?"fas fa-star-half-alt":"far fa-star"})}),Object(he.jsx)("span",{children:Object(he.jsx)("i",{className:t>=3?"fas fa-star":t>=2.5?"fas fa-star-half-alt":"far fa-star"})}),Object(he.jsx)("span",{children:Object(he.jsx)("i",{className:t>=4?"fas fa-star":t>=3.5?"fas fa-star-half-alt":"far fa-star"})}),Object(he.jsx)("span",{children:Object(he.jsx)("i",{className:t>=5?"fas fa-star":t>=4.5?"fas fa-star-half-alt":"far fa-star"})}),Object(he.jsxs)("span",{children:[" ",r&&r," "]})]})};var ke=function(e){var t=e.product;return Object(he.jsxs)("div",{className:"product",children:[Object(he.jsxs)("p",{className:"product__name",children:[" ",t.name]}),Object(he.jsx)(Ee.Link,{to:"product/".concat(t._id),children:Object(he.jsx)("img",{className:"product__img",src:t.image,alt:"no image"})}),Object(he.jsxs)("small",{className:"product__price",children:[t.price," ",Object(he.jsx)("i",{class:"fas fa-rupee-sign"})," "]}),Object(he.jsx)(Ne,{value:t.rating,no_of_reviews:" ".concat(t.numReviews," reviews ")})]})},Ce=(r(114),"PRODUCT_LIST_REQUEST"),Ie="PRODUCT_LIST_SUCCESS",Re="PRODUCT_LIST_FAIL",Pe="PRODUCT_DETAILS_REQUEST",we="PRODUCT_DETAILS_SUCCESS",Ae="PRODUCT_DETAILS_FAIL",Le="PRODUCT_DELETE_REQUEST",Te="PRODUCT_DELETE_SUCCESS",De="PRODUCT_DELETE_FAIL",Ue="PRODUCT_UPDATE_REQUEST",Fe="PRODUCT_UPDATE_SUCCESS",Me="PRODUCT_UPDATE_FAIL",Be="PRODUCT_UPDATE_RESET",Ye="PRODUCT_CREATE_REVIEW_REQUEST",Ge="PRODUCT_CREATE_REVIEW_SUCCESS",Qe="PRODUCT_CREATE_REVIEW_FAIL",ze="PRODUCT_CREATE_REVIEW_RESET",qe="TOP_PRODUCT_REQUEST",Je="TOP_PRODUCT_SUCCESS",Ve="TOP_PRODUCT_FAIL",We="PRODUCT_CREATE_REQUEST",He="PRODUCT_CREATE_SUCCESS",Ke="PRODUCT_CREATE_FAIL",Xe="PRODUCT_CREATE_RESET",Ze=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return function(){var t=Object(d.a)(l.a.mark((function t(r){var c,n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:Ce}),t.next=4,Y.a.get("/api/products/".concat(e));case 4:c=t.sent,console.log("list pro... ",c),n=c.data,r({type:Ie,payload:n}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),r({type:Re,payload:t.t0.response&&t.t0.response.data.detail?t.t0.response.data.detail:t.t0.message});case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()},$e=function(e){return function(){var t=Object(d.a)(l.a.mark((function t(r){var c,n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:Pe}),t.next=4,Y.a.get("/api/products/".concat(e));case 4:c=t.sent,n=c.data,r({type:we,payload:n}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),r({type:Ae,payload:t.t0.response&&t.t0.response.data.detail?t.t0.response.data.detail:t.t0.message});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},et=r(30);r(115);var tt=function(e){var t=e.page,r=e.pages,c=e.keyword,n=void 0===c?"":c,a=e.isAdmin,s=void 0!==a&&a;return n&&(n=n.split("?keyword=")[1].split("&")[0]),console.log("KEyword at paginate .. ",n),r>1&&Object(he.jsx)("div",{className:"paginate",children:Object(et.a)(Array(r).keys()).map((function(e){return Object(he.jsx)(Ee.Link,{to:s?"/admin/productlist/?keyword=".concat(n,"&page=").concat(e+1):"/?keyword=".concat(n,"&page=").concat(e+1),children:e+1===t?Object(he.jsx)("p",{className:" p current_page",children:e+1}):Object(he.jsx)("p",{className:"p",children:e+1})},e+1)}))})},rt=r(139),ct=r(135),nt=(r(116),r(134));var at=function(e){var t=e.message;return Object(he.jsx)(he.Fragment,{children:Object(he.jsx)("div",{className:"loading",children:Object(he.jsxs)(pe.a,{variant:"dark",className:"loading__center",disabled:!0,children:[Object(he.jsx)(nt.a,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true"}),"Loading ",t," ..."]})})})},st=r(142);var it=function(e){var t=e.variant,r=e.children;return Object(he.jsxs)(st.a,{variant:t,children:[Object(he.jsx)(st.a.Heading,{children:"Oh snap! You got an error!"}),Object(he.jsxs)("p",{children:[" ",r]})]})};var ot=function(){var e=Object(s.b)(),t=Object(s.c)((function(e){return e.topProduct})),r=t.loading,n=t.error,a=t.products;return Object(c.useEffect)((function(){e(function(){var e=Object(d.a)(l.a.mark((function e(t){var r,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:qe}),e.next=4,Y.a.get("/api/products/topProducts/");case 4:r=e.sent,c=r.data,console.log("data.. ",c),t({type:Je,payload:c}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),t({type:Ve,payload:e.t0.response&&e.t0.response.data.detail?e.t0.response.data.detail:e.t0.message});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}())}),[e]),r?"":n?Object(he.jsx)(it,{variant:"danger",children:n}):Object(he.jsx)(rt.a,{pause:"hover",className:"bg-dark slider",children:null===a||void 0===a?void 0:a.map((function(e){return Object(he.jsx)(rt.a.Item,{children:Object(he.jsxs)(Ee.Link,{to:"/product/".concat(e._id),children:[Object(he.jsx)(ct.a,{src:e.image,alt:e.name,fluid:!0,className:"sliderImage"}),Object(he.jsx)(rt.a.Caption,{className:"carousel.caption text-light ",children:Object(he.jsxs)("h4",{className:"carousel__caption",children:[e.name," ",e.price," ",Object(he.jsx)("i",{class:"fas fa-rupee-sign"})]})})]})},e._id)}))})};var lt=function(){var e=Object(s.b)(),t=Object(s.c)((function(e){return e.productList})),r=t.products,n=t.loading,a=t.error,o=t.page,l=t.pages,d=Object(i.l)();console.log("loaction ... ",d);var u=d.search;return Object(c.useEffect)((function(){console.log("Dis ..",u),e(Ze(u))}),[e,u]),Object(he.jsxs)("div",{className:"homeScreen",children:[!u&&Object(he.jsx)(ot,{}),n?Object(he.jsx)(at,{message:"Products"}):a?Object(he.jsx)("h1",{children:a}):Object(he.jsxs)(he.Fragment,{children:[Object(he.jsx)("h1",{children:"Latest Products"}),Object(he.jsx)("div",{className:"homeScreen__latestProducts",children:r.map((function(e){return Object(he.jsx)(ke,{product:e},e._id)}))}),Object(he.jsx)(tt,{page:o,pages:l,keyword:u})]})]})};r(117);var dt=function(){var e=Object(i.m)(),t=Object(i.k)(),r=Object(s.b)(),n=Object(s.c)((function(e){return e.productDetail})),a=n.product,o=n.loading,u=n.error,j=Object(s.c)((function(e){return e.reviewReducer})),p=j.loading,h=j.success,b=j.error,O=Object(s.c)((function(e){return e.userLogin})).userInfo,x=Object(c.useState)(1),m=Object(ue.a)(x,2),g=m[0],f=m[1],v=Object(c.useState)(""),_=Object(ue.a)(v,2),y=_[0],S=_[1],E=Object(c.useState)(0),N=Object(ue.a)(E,2),k=N[0],C=N[1];return Object(c.useEffect)((function(){h&&(C(0),S(""),r({type:ze})),r($e(e.id))}),[r,e,h]),Object(he.jsxs)("div",{className:"productScreen",children:[Object(he.jsx)(Ee.Link,{to:"/",className:"productScreen__goBack",children:"Go Back"}),o?Object(he.jsx)("h2",{children:"Loading ... "}):u?Object(he.jsx)("h3",{children:u}):Object(he.jsxs)(he.Fragment,{children:[" ",Object(he.jsxs)("div",{className:"productScreen__container",children:[Object(he.jsx)("img",{src:a.image,alt:"",className:"productScreen__image"}),Object(he.jsxs)("div",{className:"productScreen__container__details",children:[Object(he.jsx)("h1",{className:"productScreen__name padding",children:a.name}),Object(he.jsx)(Ne,{className:"productScreen__rating padding",value:a.rating,no_of_reviews:" ".concat(a.numReviews," reviews")}),Object(he.jsxs)("p",{className:"productScrren__price padding",children:[Object(he.jsx)("span",{children:"Price :"}),Object(he.jsxs)("p",{children:[a.price," ",Object(he.jsx)("i",{class:"fas fa-rupee-sign"})]})]}),Object(he.jsxs)("p",{className:"productScreen__description ",children:["Description : ",a.description]})]}),Object(he.jsxs)("div",{className:"productScreen__row3",children:[Object(he.jsxs)("div",{className:"productScreen__row3__status",children:["status : ",Object(he.jsxs)("p",{children:[" ",a.countInStock>0?"In Stock":"Out of Stock"]})]}),a.countInStock>0&&Object(he.jsxs)("div",{className:"productScreen__row3__qty",children:[Object(he.jsx)("div",{className:"productScreen__row3__qty__1",children:"Quantity"}),Object(he.jsx)("div",{className:"productScreen__row3__qty__2",children:Object(he.jsx)("select",{onChange:function(e){return f(e.target.value)},children:Object(et.a)(Array(a.countInStock).keys()).map((function(e){return Object(he.jsx)("option",{value:e+1,children:e+1},e+1)}))})})]}),Object(he.jsx)("button",{className:"productScreen__btn",disabled:0===a.countInStock,onClick:function(){console.log("add to cart ... ",e.id,g),t.push("/cart/".concat(a._id,"?qty=").concat(g))},children:a.countInStock>0?"Add To Cart":"Out Of Stock"})]})]}),Object(he.jsxs)("div",{className:"productScreen__review",children:[Object(he.jsxs)("div",{className:"productScreen__review__first",children:[Object(he.jsx)("h3",{children:"Reviews"}),0==a.reviews.length&&Object(he.jsx)("p",{children:"No Review Yet. Be The First One."}),a.reviews.map((function(e){return Object(he.jsxs)("div",{className:"productScreen__review__detail",children:[Object(he.jsxs)("strong",{children:["By : ",e.name?e.name:"Anonymous"]}),Object(he.jsx)("p",{children:e.comment}),Object(he.jsx)(Ne,{value:e.rating}),Object(he.jsx)("p",{children:e.createdAt.substring(0,10)})]},e._id)}))]}),Object(he.jsx)("div",{className:"productScreen__review__second",children:(null===O||void 0===O?void 0:O.username)&&Object(he.jsxs)("div",{className:"productScreen__write__review",children:[Object(he.jsx)("h3",{children:"Write a Review"}),Object(he.jsxs)("p",{children:["  ",b&&Object(he.jsx)(it,{variant:"danger",children:b})]}),Object(he.jsxs)("p",{children:[" ",p&&"loading Review .."," "]}),"Rating : ",Object(he.jsxs)("select",{value:k,onChange:function(e){return C(e.target.value)},children:[Object(he.jsx)("option",{value:"0",children:"Select ..."}),Object(he.jsx)("option",{value:1,children:"1 - Poor"}),Object(he.jsx)("option",{value:"2",children:"2 - Fair"}),Object(he.jsx)("option",{value:"3",children:"3 - Satisfied"}),Object(he.jsx)("option",{value:"4",children:"4 - Good"}),Object(he.jsx)("option",{value:"5",children:"5 - Excellent"})]}),"comment : ",Object(he.jsx)("textarea",{rows:"4",cols:"8",value:y,onChange:function(e){return S(e.target.value)}}),Object(he.jsx)("input",{className:"reviewsubmit_btn",type:"submit",onClick:function(){var t,c;console.log("create review handler .. "),r((t=e.id,c={rating:k,comment:y},function(){var e=Object(d.a)(l.a.mark((function e(r,n){var a,s,i,o,d;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r({type:Ye}),a=n(),s=a.userLogin.userInfo,i={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(s.token)}},e.next=6,Y.a.post("/api/products/review/".concat(t,"/"),c,i);case 6:o=e.sent,d=o.data,console.log("data.. ",d),r({type:Ge,payload:d}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),r({type:Qe,payload:e.t0.response&&e.t0.response.data.detail?e.t0.response.data.detail:e.t0.message});case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t,r){return e.apply(this,arguments)}}()))}})]})})]})]})]})},ut="CART_ADD_ITEM",jt="CART_REMOVE_ITEM",pt="CART_CLEAR",ht="SAVE_PAYMENT_METHOD",bt="SAVE_SHIPPING_ADDRESS",Ot=function(e,t){return function(){var r=Object(d.a)(l.a.mark((function r(c,n){var a,s;return l.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Y.a.get("/api/products/".concat(e));case 2:a=r.sent,s=a.data,c({type:ut,payload:{product:s._id,name:s.name,price:s.price,countInStock:s.countInStock,image:s.image,qty:t}}),localStorage.setItem("cartItems",JSON.stringify(n().cart.cartItems));case 6:case"end":return r.stop()}}),r)})));return function(e,t){return r.apply(this,arguments)}}()};r(118);var xt=function(){var e=Object(i.m)(),t=Object(i.k)(),r=Object(i.l)(),n=Object(s.b)(),a=Object(s.c)((function(e){return e.cart})).cartItems;console.log("cart items .. ",a);var o=e.id,u=r.search?Number(r.search.split("=")[1]):1;Object(c.useEffect)((function(){o&&n(Ot(o,u))}),[n,o,u]);var j=function(e){n(function(e){return function(){var t=Object(d.a)(l.a.mark((function t(r,c){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r({type:jt,payload:e}),localStorage.setItem("cartItems",JSON.stringify(c().cart.cartItems));case 2:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()}(e))};return Object(he.jsx)("div",{className:"cartScreen",children:Object(he.jsxs)("div",{className:"cartScreen__container",children:[Object(he.jsxs)("div",{className:"cartScreen__one",children:[Object(he.jsx)("h3",{children:"Cart"}),0===a.length?Object(he.jsxs)("p",{children:["Your Cart Is Empty ",Object(he.jsx)(Ee.Link,{to:"/",children:"Go Back"})," "]}):Object(he.jsx)("div",{className:"cartScreen__itemDetails",children:a.map((function(e){return Object(he.jsxs)("div",{className:"cartScreen__items",children:[Object(he.jsx)("img",{src:e.image,alt:"No imag",className:"cartScreen__image"}),Object(he.jsx)(Ee.Link,{className:"cartScreen__name",to:"/product/".concat(e.product),children:e.name}),Object(he.jsxs)("p",{className:"cartScreen__price",children:[e.price," ",Object(he.jsx)("i",{class:"fas fa-rupee-sign"})]}),Object(he.jsx)("select",{className:"cartScreen__qty",value:e.qty,onChange:function(t){return n(Ot(e.product,t.target.value))},children:Object(et.a)(Array(e.countInStock).keys()).map((function(e){return Object(he.jsx)("option",{value:e+1,children:e+1},e+1)}))}),Object(he.jsxs)("button",{className:"cartScreen__removeBtn",onClick:function(){return j(e.product)},children:["  ",Object(he.jsx)("i",{className:"fas fa-trash"})]})]},e.product)}))})]}),Object(he.jsxs)("div",{className:"cartScreen__two",children:[Object(he.jsxs)("h3",{children:["SubTotal (",a.reduce((function(e,t){return e+Number(t.qty)}),0),") Items"]}),Object(he.jsxs)("p",{className:"cartScreen__two__price",children:[a.reduce((function(e,t){return e+Number(t.qty)*t.price}),0).toFixed(2),"  ",Object(he.jsx)("i",{class:"fas fa-rupee-sign"})]}),a.length>0?Object(he.jsx)("button",{className:"cartScreen__proceedToCheckout",onClick:function(){t.push("/login?redirect=shipping")},children:"Proceed To Checkout"}):Object(he.jsx)("button",{className:"cartScreen__proceedToCheckout btn_disabled",disabled:!0,children:"Proceed To Checkout"})]})]})})};r(119);var mt=function(){var e=Object(i.k)(),t=Object(i.l)(),r=t.search?t.search.split("=")[1]:"/",n=Object(c.useState)(""),a=Object(ue.a)(n,2),o=a[0],h=a[1],b=Object(c.useState)(""),O=Object(ue.a)(b,2),x=O[0],m=O[1],g=Object(s.b)(),f=Object(s.c)((function(e){return e.userLogin})),v=f.loading,_=f.error,y=f.userInfo;return Object(c.useEffect)((function(){(null===y||void 0===y?void 0:y.email)&&e.push(r)}),[e,y,r]),Object(he.jsx)("div",{className:"loginScreen",children:Object(he.jsx)("div",{className:"loginScreen__container",children:v?Object(he.jsx)("h1",{children:"Loading ..."}):Object(he.jsxs)(he.Fragment,{children:[_&&Object(he.jsx)(it,{variant:"danger",children:_}),Object(he.jsx)("h1",{children:"Sign IN"}),Object(he.jsxs)("form",{children:[Object(he.jsxs)("div",{className:"loginScreen__email",children:[Object(he.jsxs)("label",{htmlFor:"email",children:[" ",Object(he.jsx)("small",{children:"Email Address "})," "]}),Object(he.jsx)("input",{type:"email",placeholder:"Enter Your Email",value:o,onChange:function(e){return h(e.target.value)}})]}),Object(he.jsxs)("div",{className:"loginScreen__password",children:[Object(he.jsx)("label",{htmlFor:"password",children:"Password"}),Object(he.jsx)("input",{type:"password",placeholder:"Enter Your Password",value:x,onChange:function(e){return m(e.target.value)}})]}),Object(he.jsx)("input",{type:"submit",className:"loginScreen__btn",value:"sign in",onClick:function(e){e.preventDefault(),console.log("Sign IN ..",o,x),g(function(e,t){return function(){var r=Object(d.a)(l.a.mark((function r(c){var n,a,s,i;return l.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,c({type:u}),n={username:e,password:t},a={headers:{"Content-type":"application/json"}},r.next=6,Y.a.post("api/users/login",n,a);case 6:s=r.sent,i=s.data,console.log("user login data ..",i),c({type:j,payload:i}),localStorage.setItem("userInfo",JSON.stringify(i)),r.next=16;break;case 13:r.prev=13,r.t0=r.catch(0),c({type:p,payload:r.t0.response&&r.t0.response.data.detail?r.t0.response.data.detail:r.t0.message});case 16:case"end":return r.stop()}}),r,null,[[0,13]])})));return function(e){return r.apply(this,arguments)}}()}(o,x))}})]}),Object(he.jsxs)("p",{children:["New Customer ? ",Object(he.jsx)(Ee.Link,{to:r?"/register?redirect=".concat(r):"/register",children:"Register "}),"  "]})]})})})};r(54);var gt=function(){var e=Object(i.k)(),t=Object(i.l)(),r=t.search?t.search.split("=")[1]:"/",n=Object(c.useState)(""),a=Object(ue.a)(n,2),o=a[0],u=a[1],p=Object(c.useState)(""),h=Object(ue.a)(p,2),m=h[0],g=h[1],f=Object(c.useState)(""),v=Object(ue.a)(f,2),_=v[0],y=v[1],S=Object(c.useState)(""),E=Object(ue.a)(S,2),N=E[0],k=E[1],C=Object(c.useState)(""),I=Object(ue.a)(C,2),R=I[0],P=I[1],w=Object(s.b)(),A=Object(s.c)((function(e){return e.userRegister})),L=A.loading,T=A.error,D=A.userInfo;return console.log("register ..",A),Object(c.useEffect)((function(){D&&e.push(r)}),[e,D,r]),Object(he.jsx)("div",{className:"loginScreen",children:Object(he.jsx)("div",{className:"loginScreen__container",children:L?Object(he.jsx)("h1",{children:"Loading ..."}):Object(he.jsxs)(he.Fragment,{children:[Object(he.jsx)("h1",{children:"Register"}),T&&Object(he.jsx)("h1",{className:"loginScreen__error",children:T}),_&&Object(he.jsx)("h1",{className:"loginScreen__error",children:_}),Object(he.jsxs)("form",{children:[Object(he.jsxs)("div",{className:"loginScreen__email",children:[Object(he.jsxs)("label",{htmlFor:"email",children:[" ",Object(he.jsx)("small",{children:"Email Address "})," "]}),Object(he.jsx)("input",{type:"email",placeholder:"Enter Your Email",value:o,onChange:function(e){return u(e.target.value)}})]}),Object(he.jsxs)("div",{className:"loginScreen__email",children:[Object(he.jsxs)("label",{htmlFor:"name",children:[" ",Object(he.jsx)("small",{children:"Name "})," "]}),Object(he.jsx)("input",{type:"text",placeholder:"Enter Your name",value:m,onChange:function(e){return g(e.target.value)}})]}),Object(he.jsxs)("div",{className:"loginScreen__password",children:[Object(he.jsx)("label",{htmlFor:"password",children:"Password"}),Object(he.jsx)("input",{type:"password",placeholder:"Enter Your Password",value:N,onChange:function(e){return k(e.target.value)}})]}),Object(he.jsxs)("div",{className:"loginScreen__password",children:[Object(he.jsx)("label",{htmlFor:"password",children:"Confirm Password"}),Object(he.jsx)("input",{type:"password",placeholder:"Enter Your Password",value:R,onChange:function(e){return P(e.target.value)}})]}),Object(he.jsx)("input",{type:"submit",className:"loginScreen__btn",value:"sign up",onClick:function(e){e.preventDefault(),y(""),console.log("Sign UP ..",o,N,m),N!==R?y("Passwords don't match !!!"):w(function(e,t,r){return function(){var c=Object(d.a)(l.a.mark((function c(n){var a,s,i,o;return l.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,n({type:b}),a={email:e,password:t,name:r},s={headers:{"Content-type":"application/json"}},c.next=6,Y.a.post("api/users/register",a,s);case 6:i=c.sent,o=i.data,console.log("user register data ..",o),n({type:O,payload:o}),n({type:j,payload:o}),localStorage.setItem("userInfo",JSON.stringify(o)),c.next=17;break;case 14:c.prev=14,c.t0=c.catch(0),n({type:x,payload:c.t0.response&&c.t0.response.data.detail?c.t0.response.data.detail:c.t0.message});case 17:case"end":return c.stop()}}),c,null,[[0,14]])})));return function(e){return c.apply(this,arguments)}}()}(o,N,m))}})]}),Object(he.jsxs)("p",{children:["Already Existing User ? ",Object(he.jsx)(Ee.Link,{to:r?"/login?redirect=".concat(r):"/register",children:"Sign In "}),"  "]})]})})})},ft=r(136);r(120);var vt=function(){var e=Object(s.b)(),t=Object(i.k)(),r=Object(c.useState)(""),n=Object(ue.a)(r,2),a=n[0],o=n[1],u=Object(c.useState)(""),p=Object(ue.a)(u,2),h=p[0],b=p[1],O=Object(c.useState)(""),x=Object(ue.a)(O,2),v=x[0],N=x[1],k=Object(c.useState)(!1),C=Object(ue.a)(k,2),I=C[0],R=C[1],P=Object(c.useState)(""),w=Object(ue.a)(P,2),A=w[0],L=w[1],T=Object(c.useState)(""),D=Object(ue.a)(T,2),U=D[0],F=D[1],M=Object(s.c)((function(e){return e.userProfile})),B=M.loading,G=M.error,Q=M.user,z=Object(s.c)((function(e){return e.userLogin})).userInfo,q=Object(s.c)((function(e){return e.userUpdateProfile})).success,J=Object(s.c)((function(e){return e.myOrder})),V=J.loading,W=J.error,H=J.order;return Object(c.useEffect)((function(){z?Q&&Q.username&&!q&&z._id===Q._id?(console.log("user #### ",Q),o(Q.email),b(Q.name),R(Q.isActive)):(e({type:E}),e((z._id,function(){var e=Object(d.a)(l.a.mark((function e(t,r){var c,n,a,s,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:m}),c=r(),n=c.userLogin.userInfo,a={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(n.token)}},e.next=6,Y.a.get("api/users/profile/",a);case 6:s=e.sent,i=s.data,console.log("data.. ",i),t({type:g,payload:i}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),t({type:f,payload:e.t0.response&&e.t0.response.data.detail?e.t0.response.data.detail:e.t0.message});case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t,r){return e.apply(this,arguments)}}())),e(function(){var e=Object(d.a)(l.a.mark((function e(t,r){var c,n,a,s,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:ce}),c=r(),n=c.userLogin.userInfo,a={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(n.token)}},e.next=6,Y.a.get("/api/orders/myorders",a);case 6:s=e.sent,i=s.data,t({type:ne,payload:i}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),t({type:ae,payload:e.t0.response&&e.t0.response.data.detail?e.t0.response.data.detail:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,r){return e.apply(this,arguments)}}())):t.push("/login")}),[e,t,Q,q,null===z||void 0===z?void 0:z.email]),Object(he.jsx)("div",{className:"profileScreen",children:Object(he.jsxs)("div",{className:"profileScreen__container",children:[Object(he.jsx)("div",{className:"profileScreen__First",children:B?Object(he.jsx)("h1",{children:"Loading ..."}):Object(he.jsxs)(he.Fragment,{children:[Object(he.jsx)("h1",{children:"Profile"}),G&&Object(he.jsx)("h1",{className:"profileScreen__error",children:G}),v&&Object(he.jsx)("h1",{className:"profileScreen__error",children:v}),Object(he.jsxs)(je.a,{children:[Object(he.jsxs)(je.a.Group,{as:_e.a,controlId:"formPlaintextEmail",children:[Object(he.jsx)(je.a.Label,{column:!0,sm:"2",children:"Email"}),Object(he.jsx)(ye.a,{sm:"10",children:Object(he.jsx)(je.a.Control,{plaintext:!0,readOnly:!0,defaultValue:a,onChange:function(e){return o(e.target.value)}})})]}),Object(he.jsxs)(je.a.Group,{as:_e.a,controlId:"formPlaintextEmail",children:[Object(he.jsx)(je.a.Label,{column:!0,sm:"2",children:"Name"}),Object(he.jsx)(ye.a,{sm:"10",children:Object(he.jsx)(je.a.Control,{defaultValue:h,onChange:function(e){return b(e.target.value)}})})]}),Object(he.jsxs)(je.a.Group,{as:_e.a,controlId:"formPlaintextPassword",children:[Object(he.jsx)(je.a.Label,{column:!0,sm:"2",children:"Password"}),Object(he.jsx)(ye.a,{sm:"10",children:Object(he.jsx)(je.a.Control,{type:"password",placeholder:"Password",value:A,onChange:function(e){return L(e.target.value)}})})]}),Object(he.jsxs)(je.a.Group,{as:_e.a,controlId:"formPlaintextPassword",children:[Object(he.jsx)(je.a.Label,{column:!0,sm:"2",children:"Confirm Password"}),Object(he.jsx)(ye.a,{sm:"10",children:Object(he.jsx)(je.a.Control,{type:"password",placeholder:"Password",value:U,onChange:function(e){return F(e.target.value)}})})]}),Object(he.jsx)(je.a.Group,{id:"formGridCheckbox",children:Object(he.jsx)(je.a.Check,{type:"checkbox",checked:I,label:"Active Account",onChange:function(){return R(!I)}})}),Object(he.jsx)(pe.a,{variant:"primary",type:"submit",onClick:function(t){t.preventDefault(),N(""),A!==U?N("Passwords don't match !!!"):e(function(e,t,r,c){return function(){var n=Object(d.a)(l.a.mark((function n(a,s){var i,o,d,u,p,h;return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,a({type:_}),i=s(),o=i.userLogin.userInfo,d={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(o.token)}},console.log("authorization .. ",d),u={name:t,email:e,password:r,isActive:c},console.log("details ..",u),n.next=9,Y.a.put("api/users/profile/update",u,d);case 9:p=n.sent,h=p.data,console.log("data.. ",h),a({type:y,payload:h}),a({type:j,payload:h}),localStorage.setItem("userInfo",JSON.stringify(h)),n.next=20;break;case 17:n.prev=17,n.t0=n.catch(0),a({type:S,payload:n.t0.response&&n.t0.response.data.detail?n.t0.response.data.detail:n.t0.message});case 20:case"end":return n.stop()}}),n,null,[[0,17]])})));return function(e,t){return n.apply(this,arguments)}}()}(a,h,A,I))},children:"Update"})]})]})}),Object(he.jsx)("div",{className:"profileScreen__second",children:V?"Loading Orders..":W?t.push("/login"):Object(he.jsx)(he.Fragment,{children:Object(he.jsxs)(ft.a,{striped:!0,bordered:!0,hover:!0,className:"table-sm",responsive:"sm",size:"sm",children:[Object(he.jsx)("thead",{children:Object(he.jsxs)("tr",{children:[Object(he.jsx)("th",{children:"ID"}),Object(he.jsx)("th",{children:"Date"}),Object(he.jsx)("th",{children:"Total"}),Object(he.jsx)("th",{children:"Paid"}),Object(he.jsx)("th",{children:"Delivered"}),Object(he.jsx)("th",{})]})}),Object(he.jsx)("tbody",{children:(null===Q||void 0===Q?void 0:Q.email)&&H&&(null===H||void 0===H?void 0:H.map((function(e){return Object(he.jsxs)("tr",{children:[Object(he.jsx)("td",{children:e._id}),Object(he.jsx)("td",{children:e.createdAt.substring(0,10)}),Object(he.jsx)("td",{children:e.totalPrice}),Object(he.jsx)("td",{children:e.isPaid?Object(he.jsx)("i",{class:"far fa-check-circle m-auto text-success"}):"Pending"}),Object(he.jsx)("td",{children:e.isDelivered?Object(he.jsx)("i",{class:"far fa-check-circle m-auto text-success"}):"pending"}),Object(he.jsx)("td",{children:Object(he.jsx)(Ee.Link,{to:"order/".concat(e._id),children:Object(he.jsx)("p",{className:"profileScreen__btn",children:"Details"})})})]},e._id)})))})]})})})]})})};r(121);var _t=function(e){var t=e.step1,r=e.step2,c=e.step3,n=e.step4;return Object(he.jsxs)("div",{className:"checkoutSteps",children:[console.log("steps in chekout",t,r),t?Object(he.jsxs)(Ee.Link,{to:"/login",className:"checkoutSteps__link",children:[Object(he.jsx)("i",{class:"far fa-check-circle text-center"}),"  ",Object(he.jsx)("br",{}),"Login"]}):Object(he.jsx)("button",{disabled:!0,className:"checkoutSteps__disabled",children:"Login"}),r?Object(he.jsxs)(Ee.Link,{to:"/shipping",className:"checkoutSteps__link",children:[Object(he.jsx)("i",{class:"far fa-check-circle text-center"}),"  ",Object(he.jsx)("br",{})," Shipping"]}):Object(he.jsx)("button",{disabled:!0,className:"checkoutSteps__disabled",children:"Shipping"}),c?Object(he.jsxs)(Ee.Link,{to:"/payment",className:"checkoutSteps__link",children:[Object(he.jsx)("i",{class:"far fa-check-circle text-center"}),"  ",Object(he.jsx)("br",{})," Payment"]}):Object(he.jsx)("button",{disabled:!0,className:"checkoutSteps__disabled",children:"Payment"}),n?Object(he.jsxs)(Ee.Link,{to:"/orderPlaced",className:"checkoutSteps__link",children:[Object(he.jsx)("i",{class:"far fa-check-circle text-center"}),"  ",Object(he.jsx)("br",{}),"    Order Placed"]}):Object(he.jsx)("button",{disabled:!0,className:"checkoutSteps__disabled",children:"Order Placed"})]})};r(122);var yt=function(){var e=JSON.parse(localStorage.getItem("shipping"))||"",t=Object(c.useState)(e.address),r=Object(ue.a)(t,2),n=r[0],a=r[1],o=Object(c.useState)(e.city),u=Object(ue.a)(o,2),j=u[0],p=u[1],h=Object(c.useState)(e.postalCode),b=Object(ue.a)(h,2),O=b[0],x=b[1],m=Object(c.useState)(e.country),g=Object(ue.a)(m,2),f=g[0],v=g[1],_=Object(c.useState)(e.landmark),y=Object(ue.a)(_,2),S=y[0],E=y[1],N=Object(s.b)(),k=Object(i.k)(),C=Object(s.c)((function(e){return e.shippingAddress}));return console.log("shipping add .. ",C),Object(he.jsxs)("div",{className:"shipping",children:[Object(he.jsx)(_t,{step1:!0,step2:!0}),Object(he.jsx)("h1",{children:"Shipping Address"}),Object(he.jsx)("div",{className:"shipping__container",children:Object(he.jsxs)("form",{className:"shipping__form",children:[Object(he.jsx)("input",{type:"text",placeholder:"Enter Address",value:n,onChange:function(e){return a(e.target.value)}}),Object(he.jsx)("input",{type:"text",placeholder:"Enter City",value:j,onChange:function(e){return p(e.target.value)}}),Object(he.jsx)("input",{type:"text",placeholder:"Enter Postal Code",value:O,onChange:function(e){return x(e.target.value)},required:!0}),Object(he.jsx)("input",{type:"text",placeholder:"Enter Nearer Landmark",value:S,onChange:function(e){return E(e.target.value)}}),Object(he.jsx)("input",{type:"text",placeholder:"Enter Country",value:f,onChange:function(e){return v(e.target.value)}}),Object(he.jsx)("input",{type:"submit",className:"shipping__btn",value:"Continue",onClick:function(e){e.preventDefault(),console.log("shipping"),N(function(e){return function(){var t=Object(d.a)(l.a.mark((function t(r,c){var n,a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=c(),a=n.userLogin.userInfo,"Bearer ".concat(a.token),r({type:bt,payload:e}),localStorage.setItem("shipping",JSON.stringify(e));case 4:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()}({address:n,city:j,postalCode:O,country:f,landmark:S})),k.push("/payment")}})]})})]})};r(123);var St=function(){var e=Object(i.k)(),t=Object(s.b)(),r=Object(s.c)((function(e){return e.shippingAddress})),n=r.shipping;console.log("shipping adr ..",r);var a=Object(c.useState)("PayPal"),o=Object(ue.a)(a,2),u=o[0],j=o[1];return console.log("payment method .. ",u),Object(c.useEffect)((function(){n.address||e.push("/shipping")}),[]),Object(he.jsxs)("div",{className:"paymentScreen",children:[Object(he.jsx)(_t,{step1:!0,step2:!0,step3:!0}),Object(he.jsx)("h3",{children:"Select Payment Method "}),Object(he.jsx)(st.a,{variant:"danger",className:"text-center",children:" Currenty Paypal Payment Method is Working."}),Object(he.jsxs)("form",{onSubmit:function(r){var c;r.preventDefault(),t((c=u,function(){var e=Object(d.a)(l.a.mark((function e(t,r){var n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=r(),a=n.userLogin,console.log("userInfo ..",a),t({type:ht,payload:c}),localStorage.setItem("paymentMethod",JSON.stringify(c));case 4:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}())),e.push("/palceOrder")},children:[Object(he.jsxs)("div",{className:"paymentScreen__input",children:[Object(he.jsx)("input",{type:"radio",name:"payment",value:"PayPal",onChange:function(e){return j(e.target.value)},defaultChecked:!0}),"  PayPal"]}),Object(he.jsxs)("div",{className:"paymentScreen__input",children:[Object(he.jsx)("input",{type:"radio",name:"payment",value:"Stripe",onChange:function(e){return j(e.target.value)},disabled:!0})," Stripe"]}),Object(he.jsxs)("div",{className:"paymentScreen__input",children:[Object(he.jsx)("input",{type:"radio",name:"payment",value:"Paytm",onChange:function(e){return j(e.target.value)},disabled:!0})," Paytm"]}),Object(he.jsx)("input",{type:"submit",value:"Proceed",className:"paymentScreen__btn"})]})]})};r(69);var Et=function(){var e=Object(s.b)(),t=Object(i.k)(),r=Object(s.c)((function(e){return e.userLogin})).userInfo,n=Object(s.c)((function(e){return e.order})),a=(n.loading,n.error),o=n.success,u=n.order,j=Object(s.c)((function(e){return e.shippingAddress})).shipping,p=Object(s.c)((function(e){return e.cart})),h=p.cartItems,b=Object(s.c)((function(e){return e.paymentMethod}));return p.itemsPrice=h.reduce((function(e,t){return e+Number(t.price*t.qty)}),0).toFixed(2),p.shippingPrice=Number((p.itemsPrice>500?0:49).toFixed(2)),p.tax=Number(.89*p.itemsPrice/100).toFixed(2),p.total=(Number(p.itemsPrice)+Number(p.tax)+Number(p.shippingPrice)).toFixed(2),b.method||t.push("/payment"),Object(c.useEffect)((function(){r.email||t.push("/login"),o&&t.push("/order/".concat(u._id))}),[o,t,r.email]),Object(he.jsxs)("div",{className:"placeOrderScreen",children:[Object(he.jsx)(_t,{step1:!0,step2:!0,step3:!0,step4:!0}),Object(he.jsxs)("div",{className:"placeOrderScreen__container",children:[Object(he.jsxs)("div",{className:"placeOrderScreen__First",children:[Object(he.jsxs)("div",{className:"placeOrderScreen__shipping",children:[Object(he.jsx)("h3",{children:"Shipping"}),"shipping : ",j.address,", ",j.city," , ",j.postalCode,",",j.country," ",j.landmark&&"( landmark : "+j.landmark+" )"]}),Object(he.jsxs)("div",{className:"placeOrderScreen__paymentMethod",children:[Object(he.jsx)("h3",{children:"Payment Method"}),"Method :  ",b.method]}),Object(he.jsxs)("div",{className:"placeOrderScreen__cart",children:[Object(he.jsx)("h3",{children:"Order Items"}),h.map((function(e){return Object(he.jsxs)("div",{className:"placeOrderScreen__cart__items",children:[Object(he.jsx)("img",{src:e.image,alt:e.name,width:"100px",className:"placeOrderScreen__cart__items__image"}),Object(he.jsxs)(Ee.Link,{to:"/product/".concat(e.product),className:"placeOrderScreen__cart__items__name",children:[" ",e.name]}),Object(he.jsxs)("p",{className:"placeOrderScreen__cart__items__qty",children:[e.qty,"  X ",e.price,"  =  ",(e.qty*e.price).toFixed(2)," ",Object(he.jsx)("i",{class:"fas fa-rupee-sign"})]})]})}))]})]}),Object(he.jsxs)("div",{className:"placeOrderScreen__second",children:[a&&Object(he.jsx)("p",{className:"placeOrderScreen__error",children:a}),Object(he.jsx)("h3",{children:"Order Summary"}),Object(he.jsxs)("div",{children:[Object(he.jsx)("p",{children:"item"}),Object(he.jsxs)("p",{children:[" ",p.itemsPrice," ",Object(he.jsx)("i",{class:"fas fa-rupee-sign"})]})]}),Object(he.jsxs)("div",{children:[Object(he.jsx)("p",{children:"shipping Price"}),Object(he.jsxs)("p",{children:[" ",p.shippingPrice," ",Object(he.jsx)("i",{class:"fas fa-rupee-sign"})]})]}),Object(he.jsxs)("div",{children:[Object(he.jsx)("p",{children:"tax"}),Object(he.jsxs)("p",{children:[" ",p.tax,Object(he.jsx)("i",{class:"fas fa-rupee-sign"})]})]}),Object(he.jsxs)("div",{children:[Object(he.jsx)("p",{children:"Total"}),Object(he.jsxs)("p",{children:[" ",p.total,Object(he.jsx)("i",{class:"fas fa-rupee-sign"})]})]}),p.itemsPrice>0&&Object(he.jsx)("input",{type:"button",Value:"Confirm Order",className:"PlaceOrderScreen__btn",onClick:function(){e(function(e){return function(){var t=Object(d.a)(l.a.mark((function t(r,c){var n,a,s,i,o;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,console.log("order actions ..",e),r({type:G}),n=c(),a=n.userLogin.userInfo,s={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(a.token)}},t.next=7,Y.a.post("api/orders/addorderItem",e,s);case 7:i=t.sent,o=i.data,r({type:Q,payload:o}),r({type:q}),r({type:pt}),localStorage.removeItem("cartItems"),t.next=18;break;case 15:t.prev=15,t.t0=t.catch(0),r({type:z,payload:t.t0.response&&t.t0.response.data.detail?t.t0.response.data.detail:t.t0.message});case 18:case"end":return t.stop()}}),t,null,[[0,15]])})));return function(e,r){return t.apply(this,arguments)}}()}({orderItems:h,shippingAddress:j,paymentMethod:b.method,itemsPrice:p.itemsPrice,taxPrice:p.tax,shippingPrice:p.shippingPrice,totalPrice:p.total}))}})]})]})]})},Nt=r(74);r(124);var kt=function(){var e,t,r=Object(c.useState)(!1),n=Object(ue.a)(r,2),a=n[0],o=n[1],u=Object(s.b)(),j=Object(i.m)(),p=Object(i.k)(),h=Object(s.c)((function(e){return e.userLogin})).userInfo,b=Object(s.c)((function(e){return e.orderDetail})),O=b.loading,x=b.error,m=b.order,g=Object(s.c)((function(e){return e.orderToDelivered})),f=(g.loading,g.error,g.order,g.success),v=Object(s.c)((function(e){return e.orderPay})),_=v.loading,y=v.success,S=function(){var e=document.createElement("script");e.type="text/javascript",e.src="https://www.paypal.com/sdk/js?client-id=".concat("AdJSZgvvBipiFPMFrFIfkRlUGAE4AFJ6rvZkjnQEUih7CHKAI2JKzKt3oouM79m8oh9Fd-td4sMonjoS"),e.async=!0,e.onload=function(){o(!0)},document.body.appendChild(e)};return Object(c.useEffect)((function(){var e;(null===h||void 0===h?void 0:h.email)||p.push("/login"),m&&m._id===j.id?(null===m||void 0===m?void 0:m.isPaid)||(window.paypal?o(!0):S()):(u({type:Z}),u((e=j.id,function(){var t=Object(d.a)(l.a.mark((function t(r,c){var n,a,s,i,o;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:J}),n=c(),a=n.userLogin.userInfo,s={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(a.token)}},t.next=6,Y.a.get("/api/orders/".concat(e,"/"),s);case 6:i=t.sent,o=i.data,console.log("image dat",o),r({type:V,payload:o}),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),r({type:W,payload:t.t0.response&&t.t0.response.data.detail?t.t0.response.data.detail:t.t0.message});case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e,r){return t.apply(this,arguments)}}())))}),[j.id,y,f,h.email]),O||x||!m||(m.itemsPrice=null===m||void 0===m?void 0:m.order.reduce((function(e,t){return e+Number(t.price*t.qty)}),0).toFixed(2)),O?Object(he.jsx)(at,{className:"loading__center"}):x?Object(he.jsx)("h4",{children:"error"}):Object(he.jsx)("div",{className:"placeOrderScreen",children:Object(he.jsxs)("div",{className:"placeOrderScreen__container",children:[Object(he.jsxs)("div",{className:"placeOrderScreen__First",children:[Object(he.jsxs)("div",{className:"orderScreen__shipping",children:[Object(he.jsxs)("p",{children:["Your Order No : ",null===m||void 0===m?void 0:m._id]}),Object(he.jsx)("hr",{}),Object(he.jsx)("h3",{children:"Shipping"}),Object(he.jsxs)("p",{children:["Name : ",null===m||void 0===m||null===(e=m.user)||void 0===e?void 0:e.name]}),Object(he.jsxs)("p",{children:["Email : ",Object(he.jsx)("a",{href:"mailto:".concat(null===m||void 0===m||null===(t=m.user)||void 0===t?void 0:t.email),children:null===m||void 0===m?void 0:m.user.email})," "]}),Object(he.jsxs)("p",{children:["  shipping :  ",null===m||void 0===m?void 0:m.shippingAddress.address,",",null===m||void 0===m?void 0:m.shippingAddress.city,null===m||void 0===m?void 0:m.shippingAddress.postalCode,",",null===m||void 0===m?void 0:m.shippingAddress.country,(null===m||void 0===m?void 0:m.shippingAddress.landmark)&&"( landmark : "+(null===m||void 0===m?void 0:m.shippingAddress.landmark)+" )"]}),Object(he.jsxs)("p",{children:[" Status : ",(null===m||void 0===m?void 0:m.isDelivered)?"Delivered on ".concat(m.deliveredAt):"Pending"," "]})]}),Object(he.jsx)("hr",{}),Object(he.jsxs)("div",{className:"OrderScreen__paymentMethod",children:[Object(he.jsx)("h3",{children:"Payment Method"}),"Method :  ",null===m||void 0===m?void 0:m.paymentMethod,Object(he.jsxs)("p",{children:[" Status : ",(null===m||void 0===m?void 0:m.isPaid)?"Paid on ".concat(m.paidAt):"Pending"," "]})]}),Object(he.jsx)("hr",{}),Object(he.jsxs)("div",{className:"placeOrderScreen__cart",children:[Object(he.jsx)("h3",{children:"Order Items"}),null===m||void 0===m?void 0:m.order.map((function(e){return Object(he.jsxs)("div",{className:"placeOrderScreen__cart__items",children:[Object(he.jsx)("img",{src:e.image.split("/https")[1].replace("%3A/","https://"),alt:e.name,width:"100px",className:"placeOrderScreen__cart__items__image"}),Object(he.jsxs)(Ee.Link,{to:"/product/".concat(e.product),className:"placeOrderScreen__cart__items__name",children:[" ",e.name]}),Object(he.jsxs)("p",{className:"placeOrderScreen__cart__items__qty",children:[e.qty,"  X ",e.price,"  =  ",(e.qty*e.price).toFixed(2)," ",Object(he.jsx)("i",{class:"fas fa-rupee-sign"})]})]},e._id)}))]})]}),Object(he.jsxs)("div",{className:"placeOrderScreen__second",children:[x&&Object(he.jsx)("p",{className:"placeOrderScreen__error",children:x}),Object(he.jsx)("h3",{children:"Order Summary"}),Object(he.jsxs)("div",{children:[Object(he.jsx)("p",{children:"item"}),Object(he.jsxs)("p",{children:[" ",null===m||void 0===m?void 0:m.itemsPrice," ",Object(he.jsx)("i",{class:"fas fa-rupee-sign"})]})]}),Object(he.jsxs)("div",{children:[Object(he.jsx)("p",{children:"shipping Price"}),Object(he.jsxs)("p",{children:[" ",null===m||void 0===m?void 0:m.shippingPrice," ",Object(he.jsx)("i",{class:"fas fa-rupee-sign"})]})]}),Object(he.jsxs)("div",{children:[Object(he.jsx)("p",{children:"tax"}),Object(he.jsxs)("p",{children:[" ",null===m||void 0===m?void 0:m.taxPrice," ",Object(he.jsx)("i",{class:"fas fa-rupee-sign"})]})]}),Object(he.jsxs)("div",{children:[Object(he.jsx)("p",{children:"Total"}),Object(he.jsxs)("p",{children:[" ",null===m||void 0===m?void 0:m.totalPrice," ",Object(he.jsx)("i",{class:"fas fa-rupee-sign"})]})]}),Object(he.jsx)("div",{children:!(null===m||void 0===m?void 0:m.isPaid)&&0!=(null===m||void 0===m?void 0:m.itemsPrice)&&Object(he.jsxs)("div",{children:[_&&Object(he.jsx)("p",{children:"loading pay.."}),a?Object(he.jsx)(Nt.PayPalButton,{amount:null===m||void 0===m?void 0:m.totalPrice,onSuccess:function(e){console.log("payment result ..",e),u(function(e,t){return function(){var r=Object(d.a)(l.a.mark((function r(c,n){var a,s,i,o,d;return l.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,c({type:H}),a=n(),s=a.userLogin.userInfo,i={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(s.token)}},r.next=6,Y.a.put("/api/orders/".concat(e,"/pay/"),t,i);case 6:o=r.sent,d=o.data,c({type:K,payload:d}),r.next=14;break;case 11:r.prev=11,r.t0=r.catch(0),c({type:X,payload:r.t0.response&&r.t0.response.data.detail?r.t0.response.data.detail:r.t0.message});case 14:case"end":return r.stop()}}),r,null,[[0,11]])})));return function(e,t){return r.apply(this,arguments)}}()}(j.id,e))}}):Object(he.jsxs)("p",{children:["loading sdk ... ",S()]})]})}),Object(he.jsx)("div",{className:"orderScreen__delivered",children:h&&h.isAdmin&&(null===m||void 0===m?void 0:m.isPaid)&&!m.isDelivered&&Object(he.jsx)("button",{onClick:function(){var e;console.log("Order was deliverd"),u((e=j.id,function(){var t=Object(d.a)(l.a.mark((function t(r,c){var n,a,s,i,o;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:ie}),n=c(),a=n.userLogin.userInfo,s={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(a.token)}},console.log("config ... ",s),t.next=7,Y.a.put("/api/orders/".concat(e,"/delivered/"),{},s);case 7:i=t.sent,o=i.data,r({type:oe,payload:o}),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),r({type:le,payload:t.t0.response&&t.t0.response.data.detail?t.t0.response.data.detail:t.t0.message});case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e,r){return t.apply(this,arguments)}}()))},children:"Mark As Delivered"})})]})]})})};r(55);var Ct=function(){var e=Object(s.b)(),t=Object(i.k)(),r=Object(s.c)((function(e){return e.userLogin})).userInfo,n=Object(s.c)((function(e){return e.userList})),a=n.loading,o=(n.success,n.error),u=n.users,j=Object(s.c)((function(e){return e.deleteUser})),p=j.success;j.error,Object(c.useEffect)((function(){r&&r.isAdmin?e(function(){var e=Object(d.a)(l.a.mark((function e(t,r){var c,n,a,s,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:N}),c=r(),n=c.userLogin.userInfo,a={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(n.token)}},e.next=6,Y.a.get("/api/users/",a);case 6:s=e.sent,i=s.data,console.log("data.. ",i),t({type:k,payload:i}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),t({type:C,payload:e.t0.response&&e.t0.response.data.detail?e.t0.response.data.detail:e.t0.message});case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t,r){return e.apply(this,arguments)}}()):t.push("/login")}),[e,p]);var h=function(t){window.confirm("Are You Sure You Want To Delete User With ".concat(t," ?"))&&e(function(e){return function(){var t=Object(d.a)(l.a.mark((function t(r,c){var n,a,s,i,o;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:R}),n=c(),a=n.userLogin.userInfo,s={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(a.token)}},t.next=6,Y.a.delete("/api/users/delete/".concat(e),s);case 6:i=t.sent,o=i.data,console.log("data.. ",o),r({type:P,payload:o}),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),r({type:w,payload:t.t0.response&&t.t0.response.data.detail?t.t0.response.data.detail:t.t0.message});case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e,r){return t.apply(this,arguments)}}()}(t))};return Object(he.jsxs)("div",{className:"userListScreen",children:[Object(he.jsx)("h3",{children:"Users"}),a?Object(he.jsx)(at,{message:"user list"}):o?Object(he.jsx)(it,{variant:"danger",children:o}):Object(he.jsxs)(ft.a,{striped:!0,bordered:!0,hover:!0,className:"table-sm",responsive:"sm",size:"sm",children:[Object(he.jsx)("thead",{children:Object(he.jsxs)("tr",{children:[Object(he.jsx)("th",{children:"ID"}),Object(he.jsx)("th",{children:"NAME"}),Object(he.jsx)("th",{children:"EMAIL"}),Object(he.jsx)("th",{children:"ADMIN"}),Object(he.jsx)("th",{children:"Active"}),Object(he.jsx)("th",{})]})}),Object(he.jsx)("tbody",{children:null===u||void 0===u?void 0:u.map((function(e){return Object(he.jsxs)("tr",{children:[Object(he.jsx)("td",{children:e._id}),Object(he.jsx)("td",{children:e.name}),Object(he.jsx)("td",{children:e.email}),Object(he.jsx)("td",{children:e.isAdmin?Object(he.jsx)("i",{className:"fas fa-check",style:{color:"green"}}):Object(he.jsx)("i",{className:"fas fa-check",style:{color:"red"}})}),Object(he.jsx)("td",{children:e.isActive?Object(he.jsx)("i",{className:"fas fa-check",style:{color:"green"}}):Object(he.jsx)("i",{className:"fas fa-check",style:{color:"red"}})}),Object(he.jsxs)("td",{children:[Object(he.jsx)(fe.LinkContainer,{to:"/admin/user/".concat(e._id),children:Object(he.jsx)(pe.a,{variant:"light",className:"btn-sm",children:Object(he.jsx)("i",{className:"fas fa-edit"})})}),Object(he.jsx)(pe.a,{variant:"danger",className:"btn-sm",onClick:function(){return h(e._id)},children:Object(he.jsx)("i",{className:"fas fa-trash"})})]})]},e._id)}))})]})]})};var It=function(){var e=Object(i.k)(),t=Object(i.m)(),r=Object(s.b)(),n=Object(c.useState)(""),a=Object(ue.a)(n,2),o=a[0],u=a[1],j=Object(c.useState)(""),p=Object(ue.a)(j,2),h=p[0],b=p[1],O=Object(c.useState)(!1),x=Object(ue.a)(O,2),m=x[0],g=x[1],f=Object(c.useState)(!1),v=Object(ue.a)(f,2),_=v[0],y=v[1],S=Object(c.useState)(""),E=Object(ue.a)(S,2),N=E[0],k=E[1],C=Object(s.c)((function(e){return e.userGetAdmin})),I=C.loading,R=C.error,P=C.user,w=Object(s.c)((function(e){return e.userUpdateAdmin})),U=(w.users,w.success);return console.log("userupdateadmin .. ",w),Object(c.useEffect)((function(){U?(r({type:D}),e.push("/admin/userlist/")):P&&P.id===Number(t.id)?(b(P.name),u(P.email),g(P.isAdmin),y(P.isActive)):r(de(t.id))}),[t.id,P,e,U]),Object(he.jsx)("div",{className:"loginScreen",children:Object(he.jsxs)("div",{className:"loginScreen__container",children:[Object(he.jsx)(Ee.Link,{to:"/admin/userlist",children:"Go BACK "}),I?Object(he.jsx)("h1",{children:"Loading ..."}):Object(he.jsxs)(he.Fragment,{children:[Object(he.jsx)("h1",{children:"User Details"}),R&&Object(he.jsx)("h1",{className:"loginScreen__error",children:R}),N&&Object(he.jsx)("h1",{className:"loginScreen__error",children:N}),Object(he.jsxs)("form",{children:[Object(he.jsxs)("div",{className:"loginScreen__email",children:[Object(he.jsxs)("label",{htmlFor:"email",children:[" ",Object(he.jsx)("small",{children:"Email Address "})," "]}),Object(he.jsx)("input",{type:"email",placeholder:"Enter Your Email",value:o,onChange:function(e){return u(e.target.value)}})]}),Object(he.jsxs)("div",{className:"loginScreen__email",children:[Object(he.jsxs)("label",{htmlFor:"name",children:[" ",Object(he.jsx)("small",{children:"Name "})," "]}),Object(he.jsx)("input",{type:"text",placeholder:"Enter Your name",value:h,onChange:function(e){return b(e.target.value)}})]}),Object(he.jsxs)("div",{className:"loginScreen__checkbox",children:[Object(he.jsx)("label",{htmlFor:"password",children:"Is Admin"}),Object(he.jsx)("input",{type:"checkbox",placeholder:"Enter Your Password",checked:m,onChange:function(){return g(!m)}})]}),Object(he.jsxs)("div",{className:"loginScreen__checkbox",children:[Object(he.jsx)("label",{htmlFor:"password",children:"Is Active"}),Object(he.jsx)("input",{type:"checkbox",placeholder:"Enter Your Password",checked:_,onChange:function(){return y(!_)}})]}),Object(he.jsx)("input",{type:"submit",className:"loginScreen__btn",value:"UpdateUser",onClick:function(e){var c;e.preventDefault(),k(""),r((c={name:h,email:o,isAdmin:m,isActive:_,id:t.id},function(){var e=Object(d.a)(l.a.mark((function e(t,r){var n,a,s,i,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("info .. ",c),t({type:A}),n=r(),a=n.userLogin.userInfo,s={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(a.token)}},e.next=7,Y.a.put("/api/users/update/".concat(c.id),c,s);case 7:i=e.sent,o=i.data,console.log("data..## ",o),t({type:L,payload:o}),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),t({type:T,payload:e.t0.response&&e.t0.response.data.detail?e.t0.response.data.detail:e.t0.message});case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t,r){return e.apply(this,arguments)}}())),r(de(t.id)),k("User is Updated")}})]})]})]})})};var Rt=function(){var e=Object(s.b)(),t=Object(i.k)(),r=Object(i.l)().search,n=Object(s.c)((function(e){return e.userLogin})).userInfo,a=Object(s.c)((function(e){return e.productList})),o=a.loading,u=a.error,j=a.products,p=a.page,h=a.pages,b=Object(s.c)((function(e){return e.deleteProduct})),O=(b.loading,b.success),x=b.error,m=Object(s.c)((function(e){return e.productCreate})),g=(m.loading,m.error,m.success),f=m.product;Object(c.useEffect)((function(){e({type:Xe}),(null===n||void 0===n?void 0:n.isAdmin)||t.push("/login"),g?t.push("/admin/product/".concat(f._id)):e(Ze(r))}),[e,O,r,g,f,n]);var v=function(t){window.confirm("Are You Sure You Want To Delete Product With ".concat(t," ?"))&&e(function(e){return function(){var t=Object(d.a)(l.a.mark((function t(r,c){var n,a,s,i,o;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:Pe}),n=c(),a=n.userLogin.userInfo,s={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(a.token)}},t.next=6,Y.a.delete("/api/products/delete/".concat(e),s);case 6:i=t.sent,o=i.data,console.log("data.. ",o),r({type:Te}),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),r({type:De,payload:t.t0.response&&t.t0.response.data.detail?t.t0.response.data.detail:t.t0.message});case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e,r){return t.apply(this,arguments)}}()}(t))};return Object(he.jsxs)("div",{className:"userListScreen",children:[Object(he.jsxs)(_e.a,{className:"align-items-center mx-1",children:[Object(he.jsx)(ye.a,{children:Object(he.jsx)("h3",{children:"Products"})}),Object(he.jsx)(ye.a,{className:"text-right",children:Object(he.jsxs)(pe.a,{className:"my-3 ",onClick:function(){e(function(){var e=Object(d.a)(l.a.mark((function e(t,r){var c,n,a,s,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:We}),c=r(),n=c.userLogin.userInfo,a={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(n.token)}},e.next=6,Y.a.post("/api/products/create/",{},a);case 6:s=e.sent,i=s.data,t({type:He,payload:i}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),t({type:Ke,payload:e.t0.response&&e.t0.response.data.detail?e.t0.response.data.detail:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,r){return e.apply(this,arguments)}}())},children:[Object(he.jsx)("i",{className:"fas fa-plus"})," Create Product"]})})]}),x&&Object(he.jsx)("p",{children:x}),Object(he.jsx)("div",{className:"userListScreen__First",children:o?Object(he.jsx)(at,{message:"Product List.."}):u?Object(he.jsx)("p",{children:u}):Object(he.jsxs)(he.Fragment,{children:[Object(he.jsxs)(ft.a,{striped:!0,bordered:!0,hover:!0,responsive:!0,className:"table-sm",children:[Object(he.jsx)("thead",{children:Object(he.jsxs)("tr",{children:[Object(he.jsx)("th",{children:"ID"}),Object(he.jsx)("th",{children:"Name"}),Object(he.jsx)("th",{children:"Price"}),Object(he.jsx)("th",{children:"Category"}),Object(he.jsx)("th",{children:"Brand"}),Object(he.jsx)("th",{children:"Action"})]})}),Object(he.jsx)("tbody",{children:null===j||void 0===j?void 0:j.map((function(e){return Object(he.jsxs)("tr",{children:[Object(he.jsx)("td",{children:e._id}),Object(he.jsx)("td",{children:e.name}),Object(he.jsx)("td",{children:e.price}),Object(he.jsx)("td",{children:e.category}),Object(he.jsx)("td",{children:e.brand}),Object(he.jsxs)("td",{children:[Object(he.jsx)(fe.LinkContainer,{to:"/admin/product/".concat(e._id),children:Object(he.jsx)(pe.a,{variant:"light",className:"btn-sm",children:Object(he.jsx)("i",{className:"fas fa-edit"})})}),Object(he.jsx)(pe.a,{variant:"danger",className:"btn-sm",onClick:function(){return v(e._id)},children:Object(he.jsx)("i",{className:"fas fa-trash"})})]})]},e._id)}))})]}),Object(he.jsx)(tt,{page:p,pages:h,isAdmin:!0})]})})]})};var Pt=function(){var e=Object(i.k)(),t=Object(i.m)(),r=Object(s.b)(),n=Object(c.useState)(""),a=Object(ue.a)(n,2),o=a[0],u=a[1],j=Object(c.useState)(0),p=Object(ue.a)(j,2),h=p[0],b=p[1],O=Object(c.useState)(""),x=Object(ue.a)(O,2),m=x[0],g=x[1],f=Object(c.useState)(""),v=Object(ue.a)(f,2),_=v[0],y=v[1],S=Object(c.useState)(0),E=Object(ue.a)(S,2),N=E[0],k=E[1],C=Object(c.useState)(""),I=Object(ue.a)(C,2),R=I[0],P=I[1],w=Object(c.useState)(""),A=Object(ue.a)(w,2),L=A[0],T=A[1],D=Object(c.useState)(!1),U=Object(ue.a)(D,2),F=(U[0],U[1]),M=Object(c.useState)(""),B=Object(ue.a)(M,2),G=B[0],Q=B[1],z=Object(s.c)((function(e){return e.productDetail})),q=z.loading,J=z.error,V=z.product,W=Object(s.c)((function(e){return e.updateProduct})),H=(W.loading,W.product,W.success),K=W.error;console.log("updateProduct .. ",W),Object(c.useEffect)((function(){H?(r({type:Be}),r($e(t.id)),e.push("/admin/productlist/")):V&&V._id===Number(t.id||H)?(u(V.name),b(V.price),g(V.brand),y(V.category),k(V.countInStock),P(V.description),T(V.image)):r($e(t.id))}),[t.id,e,r,V._id,H]);var X=function(){var e=Object(d.a)(l.a.mark((function e(r){var c,n,a,s,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Image uploaded",r.target.files[0]),c=r.target.files[0],(n=new FormData).append("image",c),n.append("product_id",t.id),F(!0),console.log("form data .. ",n),e.prev=7,a={headers:{"Content-Type":"multipart/form-data"}},e.next=11,Y.a.post("/api/products/upload/",n,a);case 11:s=e.sent,i=s.data,console.log("setimage data ..",i),F(!0),T(i),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(7),F(!1);case 21:case"end":return e.stop()}}),e,null,[[7,18]])})));return function(t){return e.apply(this,arguments)}}();return Object(he.jsx)("div",{className:"loginScreen",children:Object(he.jsxs)("div",{className:"loginScreen__container",children:[Object(he.jsx)(Ee.Link,{to:"/admin/productlist",children:"Go BACK "}),q?Object(he.jsx)("h1",{children:"Loading ..."}):Object(he.jsxs)(he.Fragment,{children:[Object(he.jsx)("h1",{children:"Product Details"}),J&&Object(he.jsx)("h1",{className:"loginScreen__error",children:J}),K&&Object(he.jsx)("h1",{className:"loginScreen__error",children:K}),G&&Object(he.jsx)("h1",{className:"loginScreen__error",children:G}),Object(he.jsxs)("form",{children:[Object(he.jsxs)("div",{className:"loginScreen__email",children:[Object(he.jsxs)("label",{htmlFor:"name",children:[" ",Object(he.jsx)("small",{children:"Name "})," "]}),Object(he.jsx)("input",{type:"text",placeholder:"Enter Your name",value:o,onChange:function(e){return u(e.target.value)}})]}),Object(he.jsxs)("div",{className:"loginScreen__email",children:[Object(he.jsxs)("label",{htmlFor:"category",children:[" ",Object(he.jsx)("small",{children:"Category "})," "]}),Object(he.jsx)("input",{type:"text",placeholder:"Enter Product Category",value:_,onChange:function(e){return y(e.target.value)}})]}),Object(he.jsxs)("div",{className:"loginScreen__email",children:[Object(he.jsxs)("label",{htmlFor:"brand",children:[" ",Object(he.jsx)("small",{children:"Brand "})," "]}),Object(he.jsx)("input",{type:"text",placeholder:"Enter Product Brand",value:m,onChange:function(e){return g(e.target.value)}})]}),Object(he.jsxs)("div",{className:"loginScreen__email",children:[Object(he.jsxs)("label",{htmlFor:"price",children:[" ",Object(he.jsx)("small",{children:"Price "})," "]}),Object(he.jsx)("input",{type:"text",placeholder:"Enter Product Price",value:h,onChange:function(e){return b(e.target.value)}})]}),Object(he.jsxs)("div",{className:"loginScreen__email",children:[Object(he.jsxs)("label",{htmlFor:"stock",children:[" ",Object(he.jsx)("small",{children:"Stock "})," "]}),Object(he.jsx)("input",{type:"number",placeholder:"Enter Stock",value:N,onChange:function(e){return k(e.target.value)}})]}),Object(he.jsxs)("div",{className:"loginScreen__email",children:[Object(he.jsxs)("label",{htmlFor:"description",children:[" ",Object(he.jsx)("small",{children:"Description "})," "]}),Object(he.jsx)("input",{type:"text",placeholder:"Enter Description",value:R,onChange:function(e){return P(e.target.value)}})]}),Object(he.jsxs)("div",{className:"loginScreen__email",children:[Object(he.jsxs)("label",{htmlFor:"Image",children:[" ",Object(he.jsx)("small",{children:"Image "})," "]}),Object(he.jsx)("input",{type:"text",placeholder:"Image path",value:L,onChange:function(e){return T(e.target.value)}})]}),Object(he.jsx)("div",{children:Object(he.jsx)("input",{type:"file",onChange:X})}),L?Object(he.jsx)("input",{type:"submit",className:"loginScreen__btn",value:"Update Product",onClick:function(e){var c;e.preventDefault(),Q(""),r((c={name:o,price:h,brand:m,category:_,id:t.id,countInStock:N,description:R},function(){var e=Object(d.a)(l.a.mark((function e(t,r){var n,a,s,i,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("update prodcut info ..",c),t({type:Ue}),n=r(),a=n.userLogin.userInfo,s={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(a.token)}},e.next=7,Y.a.put("/api/products/update/".concat(c.id,"/"),c,s);case 7:i=e.sent,o=i.data,console.log("data.. ",o),t({type:Fe,payload:o}),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),t({type:Me,payload:e.t0.response&&e.t0.response.data.detail?e.t0.response.data.detail:e.t0.message});case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t,r){return e.apply(this,arguments)}}()))}}):Object(he.jsx)("input",{type:"",className:"loginScreen__btn text-danger",value:"Update Product",disabled:!0})]})]})]})})};var wt=function(){var e=Object(s.b)(),t=Object(i.k)(),r=Object(s.c)((function(e){return e.userLogin})).userInfo,n=Object(s.c)((function(e){return e.orderList})),a=n.loading,o=n.error,u=n.orders;return n.success,Object(c.useEffect)((function(){r&&r.isAdmin?e(function(){var e=Object(d.a)(l.a.mark((function e(t,r){var c,n,a,s,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:$}),c=r(),n=c.userLogin.userInfo,a={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(n.token)}},e.next=6,Y.a.get("/api/orders/",a);case 6:s=e.sent,i=s.data,t({type:ee,payload:i}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),t({type:te,payload:e.t0.response&&e.t0.response.data.detail?e.t0.response.data.detail:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,r){return e.apply(this,arguments)}}()):t.push("/login")}),[e]),Object(he.jsx)("div",{className:"userListScreen",children:Object(he.jsx)("div",{className:"userListScreen__First",children:a?Object(he.jsx)(at,{message:"order list"}):o?Object(he.jsx)("p",{children:o}):Object(he.jsxs)(he.Fragment,{children:[Object(he.jsx)("h3",{className:"text-center",children:"Order List"}),Object(he.jsxs)(ft.a,{striped:!0,bordered:!0,hover:!0,responsive:!0,className:"table-sm",children:[Object(he.jsx)("thead",{children:Object(he.jsxs)("tr",{children:[Object(he.jsx)("th",{children:"ID"}),Object(he.jsx)("th",{children:"Name"}),Object(he.jsx)("th",{children:"Date"}),Object(he.jsx)("th",{children:"Total"}),Object(he.jsx)("th",{children:"Paid"}),Object(he.jsx)("th",{children:"Delivered"}),Object(he.jsx)("th",{})]})}),Object(he.jsx)("tbody",{children:null===u||void 0===u?void 0:u.map((function(e){return Object(he.jsxs)("tr",{children:[Object(he.jsx)("td",{children:e._id}),Object(he.jsx)("td",{children:e.user.username}),Object(he.jsx)("td",{children:e.createdAt.substring(0,10)}),Object(he.jsx)("td",{children:e.totalPrice}),Object(he.jsx)("td",{children:e.isPaid?Object(he.jsx)("i",{class:"far fa-check-circle text-center text-success"}):"Not Paid"}),Object(he.jsx)("td",{children:e.isDelivered?Object(he.jsx)("i",{class:"far fa-check-circle m-auto text-success"}):"pending"}),Object(he.jsx)("td",{children:Object(he.jsx)(Ee.Link,{to:"/order/".concat(e._id),children:"Details"})})]},e._id)}))})]})]})})})};var At=function(){return Object(he.jsx)("div",{children:Object(he.jsx)(Ee.HashRouter,{children:Object(he.jsxs)(i.g,{children:[Object(he.jsxs)(i.d,{path:"/product/:id",children:[Object(he.jsx)(ve,{}),Object(he.jsx)(dt,{})]}),Object(he.jsxs)(i.d,{path:"/cart/:id?",children:[Object(he.jsx)(ve,{}),Object(he.jsx)(xt,{})]}),Object(he.jsxs)(i.d,{path:"/order/:id",children:[Object(he.jsx)(ve,{}),Object(he.jsx)(kt,{})]}),Object(he.jsxs)(i.d,{path:"/login",children:[Object(he.jsx)(ve,{}),Object(he.jsx)(mt,{})]}),Object(he.jsxs)(i.d,{path:"/admin/userlist",children:[Object(he.jsx)(ve,{}),Object(he.jsx)(Ct,{})]}),Object(he.jsxs)(i.d,{path:"/admin/user/:id",children:[Object(he.jsx)(ve,{}),Object(he.jsx)(It,{})]}),Object(he.jsxs)(i.d,{path:"/admin/orderlist",children:[Object(he.jsx)(ve,{}),Object(he.jsx)(wt,{})]}),Object(he.jsxs)(i.d,{path:"/admin/productlist",children:[Object(he.jsx)(ve,{}),Object(he.jsx)(Rt,{})]}),Object(he.jsxs)(i.d,{path:"/admin/product/:id",children:[Object(he.jsx)(ve,{}),Object(he.jsx)(Pt,{})]}),Object(he.jsxs)(i.d,{path:"/shipping",children:[Object(he.jsx)(ve,{}),Object(he.jsx)(yt,{})]}),Object(he.jsxs)(i.d,{path:"/palceOrder",children:[Object(he.jsx)(ve,{}),Object(he.jsx)(Et,{})]}),Object(he.jsxs)(i.d,{path:"/payment",children:[Object(he.jsx)(ve,{}),Object(he.jsx)(St,{})]}),Object(he.jsxs)(i.d,{path:"/profile",children:[Object(he.jsx)(ve,{}),Object(he.jsx)(vt,{})]}),Object(he.jsxs)(i.d,{path:"/register",children:[Object(he.jsx)(ve,{}),Object(he.jsx)(gt,{})]}),Object(he.jsxs)(i.d,{path:"/",children:[Object(he.jsx)(ve,{}),Object(he.jsx)(lt,{}),Object(he.jsx)(Se,{})]})]})})})},Lt=(r(125),r(33)),Tt=r(75),Dt=r(76),Ut=r(27),Ft={cartItems:[]};var Mt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ft,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ut:var r=t.payload,c=e.cartItems.find((function(e){return e.product===r.product}));return c?Object(Ut.a)(Object(Ut.a)({},e),{},{cartItems:e.cartItems.map((function(e){return e.product===c.product?r:e}))}):Object(Ut.a)(Object(Ut.a)({},e),{},{cartItems:[].concat(Object(et.a)(e.cartItems),[t.payload])});case jt:return Object(Ut.a)(Object(Ut.a)({},e),{},{cartItems:e.cartItems.filter((function(e){return e.product!==t.payload}))});case pt:return Object(Ut.a)(Object(Ut.a)({},e),{},{cartItems:[]});default:return e}},Bt={},Yt={},Gt={},Qt=Object(Lt.combineReducers)({productList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{products:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ce:return{loading:!0,products:[]};case Ie:return{loading:!1,products:t.payload.products,page:t.payload.page,pages:t.payload.pages};case Re:return{loading:!1,error:t.payload};default:return e}},productDetail:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{product:{reviews:[]}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Pe:return Object(Ut.a)({loading:!0},e);case we:return{loading:!1,product:t.payload};case Ae:return{loading:!1,error:t.payload};default:return e}},deleteProduct:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Le:return{loading:!0};case Te:return{loading:!1,success:!0};case De:return{loading:!1,error:t.payload};default:return e}},updateProduct:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ue:return{loading:!0};case Fe:return{loading:!1,success:!0,product:t.payload};case Me:return{loading:!1,error:t.payload};case Be:return{};default:return e}},productCreate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case We:return{loading:!0};case He:return{loading:!1,success:!0,product:t.payload};case Ke:return{loading:!1,error:t.payload};case Xe:return{};default:return e}},cart:Mt,userLogin:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Bt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u:return{loading:!0};case j:return{loading:!1,userInfo:t.payload};case p:return{loading:!1,error:t.payload};case h:return{loading:!1,userInfo:{}};default:return e}},userRegister:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b:return{loading:!0};case O:return{loading:!1,userInfo:t.payload};case x:return{loading:!1,error:t.payload};default:return e}},userProfile:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Gt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m:return{loading:!0};case g:return{loading:!1,user:t.payload};case f:return{loading:!1,error:t.payload};case v:return{user:{}};default:return e}},userUpdateProfile:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Gt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _:return{loading:!0};case y:return{loading:!1,success:!0,user:t.payload};case S:return{loading:!1,error:t.payload};case E:return{};default:return e}},shippingAddress:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case bt:return{shipping:t.payload};default:return e}},paymentMethod:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ht:return{method:t.payload};default:return e}},order:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(console.log("###### action. paylod order",t),t.type){case G:return{loading:!0};case Q:return{loading:!1,success:!0,order:t.payload};case z:return{loading:!1,error:t.payload};case q:return{loading:!1,order:{}};default:return e}},orderDetail:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(console.log("###### Pay Reducer ####",t),t.type){case J:return{loading:!0};case V:return{loading:!1,success:!0,order:t.payload};case W:return{loading:!1,error:t.payload};default:return e}},orderPay:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(console.log("###### Pay order",t),t.type){case H:return{loading:!0};case K:return{loading:!1,success:!0,order:t.payload};case X:return{loading:!1,error:t.payload};case Z:return{loading:!1,order:{}};default:return e}},myOrder:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(console.log("###### my order",t),t.type){case ce:return{loading:!0};case ne:return{loading:!1,success:!0,order:t.payload};case ae:return{loading:!1,error:t.payload};case se:return{loading:!1,order:{}};default:return e}},orderList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(console.log("###### Admin order List action",t),t.type){case $:return{loading:!0};case ee:return{loading:!1,success:!0,orders:t.payload};case te:return{loading:!1,error:t.payload};case re:return{};default:return e}},orderToDelivered:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(console.log("###### Order to Delivered Action",t),t.type){case ie:return{loading:!0};case oe:return{loading:!1,success:!0,orders:t.payload};case le:return{loading:!1,error:t.payload};default:return e}},userList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case N:return{loading:!0};case k:return{loading:!1,success:!0,users:t.payload};case C:return{loading:!1,error:t.payload};case I:return{};default:return e}},deleteUser:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case R:return{loading:!0};case P:return{loading:!1,success:!0};case w:return{loading:!1,error:t.payload};default:return e}},userUpdateAdmin:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{updateUser:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case A:return{loading:!0};case L:return{loading:!1,users:t.payload,success:!0};case T:return{loading:!1,error:t.payload};case D:return{};default:return e}},userGetAdmin:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{user:{}},t=arguments.length>1?arguments[1]:void 0;switch(console.log("### user get admin reducer .. ### ",t),t.type){case U:return{loading:!0};case F:return{loading:!1,user:t.payload,success:!0};case M:return{loading:!1,error:t.payload};default:return e}},reviewReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ye:return{loading:!0};case Ge:return{loading:!1,success:!0};case Qe:return{loading:!1,error:t.payload};case ze:return{};default:return e}},topProduct:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case qe:return{loading:!0};case Je:return{loading:!1,products:t.payload};case Ve:return{loading:!1,error:t.payload};default:return e}}}),zt=localStorage.getItem("cartItems")?JSON.parse(localStorage.getItem("cartItems")):[],qt=localStorage.getItem("userInfo")?JSON.parse(localStorage.getItem("userInfo")):null,Jt=localStorage.getItem("shipping")?JSON.parse(localStorage.getItem("shipping")):null,Vt=localStorage.getItem("paymentMethod")?JSON.parse(localStorage.getItem("paymentMethod")):null;console.log("Shipping adress from local ..",Jt),console.log("userinfo from local ..",qt,Vt);var Wt={cart:{cartItems:zt},userLogin:{userInfo:qt},shippingAddress:{shipping:Jt},paymentMethod:{method:Vt}},Ht=[Tt.a],Kt=Object(Lt.createStore)(Qt,Wt,Object(Dt.composeWithDevTools)(Lt.applyMiddleware.apply(void 0,Ht)));r(126);a.a.render(Object(he.jsx)(s.a,{store:Kt,children:Object(he.jsx)(At,{})}),document.getElementById("root"))},54:function(e,t,r){},55:function(e,t,r){},69:function(e,t,r){}},[[127,1,2]]]);
//# sourceMappingURL=main.7b44876a.chunk.js.map